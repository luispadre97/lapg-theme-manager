!function(){"use strict";(function(t){const e={themes:{},currentTheme:null,styleElement:null,loadTheme:function(t,e){this.themes[t]=e},setTheme:function(t){this.themes[t]?(this.currentTheme=t,this.updateTheme()):console.error(`Theme '${t}' not found.`)},updateTheme:function(){if(!this.currentTheme)return;const t=this.themes[this.currentTheme],n=r(this.currentTheme,t);this.styleElement||(this.styleElement=document.createElement("style"),this.styleElement.setAttribute("data-lazy","true"),document.head.appendChild(this.styleElement)),this.styleElement.textContent=n,document.querySelectorAll("[data-dynamic-style]").forEach((t=>{const n=t.getAttribute("class");let s=e.currentTheme;t.hasAttribute("data-theme")&&(s=t.getAttribute("data-theme"));const r=t.tagName.toLowerCase(),o=`${s}-${r}`;if(!n||!n.includes(s)&&!n.split(" ").some((t=>t.includes(s))))if(n){const e=n.split(" ").filter((t=>!t.startsWith(s)));e.unshift(o),t.setAttribute("class",e.join(" "))}else t.classList.add(o)}))}};function n(t,n){e.loadTheme(t,n)}function s(t){if("string"!=typeof t)throw new TypeError("Input must be a string");return t.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}function r(t,e){const n=(t,e)=>{const r=[],o=[];for(const[i,c]of Object.entries(e))if("object"!=typeof c||Array.isArray(c)){const t=s(i);r.push(`${t}: ${c};`)}else{const e=i.startsWith("&")?i.slice(1):` ${i}`;o.push(n(`${t}${e}`,c))}return[`${t} {${r.join(" ")}}`,...o].join("\n")};let r="";for(const[s,o]of Object.entries(e)){let e;e=-1===s.indexOf(".")?`.${t}-${s}`:s.startsWith(".")?s.startsWith(".")?`.${s.slice(1)}`:`.${t}-${s}`:s,r+=n(e,o)+"\n"}return r}function o(t,e){if(document.querySelector(`style[data-theme="${t}"]`))return;let n=r(e);"object"!=typeof e||Array.isArray(e)||(n+=function(t){let e="";for(const[n,r]of Object.entries(t))e+=`.${s(n)} {${Object.entries(r).map((([t,e])=>`${s(t)}: ${e};`)).join(" ")}}\n`;return e}(t));const o=document.createElement("style");o.textContent=n,o.setAttribute("data-theme",t),document.head.appendChild(o)}function i(t,e){document.addEventListener(`lapg:${t}`,(t=>{e(t.detail)}))}function c(t,e){document.dispatchEvent(new CustomEvent(`lapg:${t}`,{detail:e}))}document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelectorAll("[data-theme]"),n=document.documentElement.getAttribute("data-theme");t.forEach((t=>{const s=t.getAttribute("data-theme"),r=t.getAttribute("data-theme-url");s!==n&&function(t,e){if(document.querySelector(n[href="${url}"]))return;const n=document.createElement("link");n.rel="stylesheet",n.href=t,n.setAttribute("data-lazy","true"),n.setAttribute("async","true"),n.addEventListener("load",e),document.head.appendChild(n)}(r,(()=>{o(s,e.themes[s]),e.updateTheme()}))}));document.querySelectorAll('[data-lazy][rel="stylesheet"]').forEach((t=>{t.setAttribute("async","true")})),e.updateTheme()})),t.lapg=function(t){return{ThemeContext:e,loadThemeFromJSON:n,on:i,emit:c}},t.ThemeContext=e})(window),lapg}();
export default lapg