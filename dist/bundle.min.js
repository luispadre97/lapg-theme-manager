!function(){"use strict";(function(e){const t={themes:{},currentTheme:null,styleElement:null,variables:null,loadTheme:function(e,t){this.themes[e]=t},setTheme:function(e){e?this.themes[e]?(this.currentTheme=e,this.updateTheme()):console.error(`Theme '${e}' not found.`):console.error("No theme name provided.")},updateTheme:function(){if(!this.currentTheme)return;const e=this.themes[this.currentTheme],o=function(e,t,o){const r=(e,t)=>{const i=[],a=[];for(const[c,l]of Object.entries(t))if("object"!=typeof l||Array.isArray(l)){const e=n(c),t=s(l,o);i.push(`${e}: ${t};`)}else{const t=c.startsWith("&")?c.slice(1):` ${c}`;a.push(r(`${e}${t}`,l))}return[`${e} {${i.join(" ")}}`,...a].join("\n")};let i="";for(const[n,s]of Object.entries(t)){const t=n.startsWith(".")?n:`.${e}-${n}`;i+=r(t,s)+"\n"}return i}(this.currentTheme,e,this.variables);this.styleElement||(this.styleElement=document.createElement("style"),this.styleElement.setAttribute("data-lazy","true"),document.head.appendChild(this.styleElement)),this.styleElement.textContent=o,document.querySelectorAll("[data-dynamic-style]").forEach((e=>{const n=e.getAttribute("data-theme")||t.currentTheme,s=e.tagName.toLowerCase(),o=`${n}-${s}`,r=e.getAttribute("class");r&&r.split(" ").some((e=>e.startsWith(n)))||e.classList.add(o)}))}};function n(e){if("string"!=typeof e)throw new TypeError("Input must be a string");return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}function s(e,t){return e.replace(/\$([a-zA-Z0-9]+(-[a-zA-Z0-9]+)?)/g,((e,n)=>t[n]))}document.addEventListener("DOMContentLoaded",(()=>{const e=document.documentElement.getAttribute("data-theme");t.setTheme(e)})),e.lapg=function(e){return{ThemeContext:t,loadThemeFromJSON:(e,n)=>t.loadTheme(e,n),on:(e,t)=>document.addEventListener(`lapg:${e}`,(e=>{t(e.detail)})),emit:(e,t)=>document.dispatchEvent(new CustomEvent(`lapg:${e}`,{detail:t}))}},e.ThemeContext=t})(window),lapg}();
